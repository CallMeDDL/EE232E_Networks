\documentclass[11pt]{article}
	\usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    % \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphics}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage[center,bf]{caption}
    % \DeclareCaptionLabelFormat{nolabel}{}
    % \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
   	\usepackage[]{authblk}
   	\usepackage{cite}
    \usepackage{graphicx}
    \usepackage{hyperref}
    \usepackage{amsmath}
    \usepackage{amsthm}
    \usepackage{amssymb}
    \usepackage{bm}
    \usepackage{bbm}
    \usepackage{algorithmicx}
    \usepackage{algorithm}
    \usepackage{algpseudocode}
    \usepackage{array}
    \usepackage{booktabs}
    \usepackage{multirow}
    \usepackage{makecell}
    \usepackage{color}
    \usepackage{tabularx,ragged2e,booktabs,caption}

   	\makeatletter
    \def\@maketitle{%
    \newpage
      \null
      \vskip 2em%
      \begin{center}%
      \let \footnote \thanks
        {\Large\bfseries \@title \par}%
        \vskip 1.5em%
        {\normalsize
          \lineskip .5em%
          \begin{tabular}[t]{c}%
            \@author
          \end{tabular}\par}%
        \vskip 1em%
        {\normalsize \@date}%
      \end{center}%
      \par
      \vskip 1.5em}
    \makeatother


\newtheorem{theorem}{Theorem}






\title{EE 232E Project 4\\IMDb Mining}
\author{Hengjie~Yang, Sheng~Chang, Wandi~Cui, and Tianyi~Liu
}


\date{\today}


\begin{document}
\maketitle

% \section{A brief tutorial on how to use this template}
% \Large\textcolor{red}{\bf{Please remove the tutorial section in the final manuscript\\ by commenting, i.e. $\%(something)$}}


% \subsection{Figures}
% Figure insertion is shown in Fig \ref{example_fig}.
% \begin{figure}[h]
% \centering
% \scalebox{0.7}{\includegraphics{Figures/spectrum_bar.pdf}}
% \caption{An example of figure insertion}
% \label{example_fig}
% \end{figure}

% \subsection{Equations}
% An example of equations is given as follows.
% \begin{theorem}
% Let $a$, $b$, $c$ denote the sides of a triangle, respectively. If $a\perp b$, the pythagoras theorem is given as follows.
% \begin{align}
% c^2 = a^2 + b^2
% \end{align}
% \end{theorem}

% \subsection{Tables}
% An example of tables is shown in Table \ref{example_table}.
% \renewcommand\arraystretch{1.1}
% \begin{table}[h]
% \center
% \caption{Standard CRC Codes versus Optimal CRC Codes for Convolutional Code $G=(561~753)$ with $n=504$ Bits}
% \scalebox{0.9}{
% \begin{tabular}{r|c|c|cccccc}
% \hline
% \multirow{2}{*}{Name} & \multirow{2}{*}{Gen. Poly.} & \multicolumn{7}{c}{Undetected Error Distance Spectrum} \\
% \cline{3-9}
%  & & $d$ & 16 & 18 & 20 & 22 & 24 & 26 \\\hline\hline
% Standard-8 & \multicolumn{1}{l}{0x19B} & & 983 & 4387 & 19909 & 105000 & 672724 & 3972970\\
% Optimal-8 & \multicolumn{1}{l}{0x19D} & & 0 & 979 & 22349 & 111304 & 686314 & 3830340\\\hline
% Standard-12 & \multicolumn{1}{l}{0x180F} & & 0 & 0 & 969 & 5815 & 42893 & 245211 \\
% Optimal-12 & \multicolumn{1}{l}{0x108B} & & 0 & 0 & 0 & 4793 & 45795 & 246729\\\hline
% Standard-16 & \multicolumn{1}{l}{0x11021} & & 0 & 0 & 484 & 0 & 1765 & 14752\\
% Optimal-16 & \multicolumn{1}{l}{0x1F8FD} & & 0 & 0 & 0 & 0 & 0 & 13240\\\hline
% \end{tabular}}
% \label{example_table}
% \end{table}

\section{Actor/Actress Network}

\subsection{Directed actor/actress network creation}

\subsection{Actor pairings}


\subsection{Actor rankings}
We aimed to find to find the top 10 actor/actress in the network using the googleâ€™s pagerank algorithm. Those information of the top 10 actor/actress is shown in Table \ref{table_1_3}, including the name, the number of movies and the in-degree of each of the actor/actress in the top 10 list.

\begin{table}
\center
\caption{Top 10 highest pagerank score actor/actress}
\scalebox{0.9}{
\begin{tabular}{r|c|c}
\hline
\textbf{Name} & \textbf{the Number of Movies} & \textbf{In-degree}\\\hline
Flowers, Bess & 828 & 7537\\\hline
Tatasciore, Fred & 355 & 3954\\\hline
Harris, Sam (II) & 600 & 6960\\\hline
Blum, Steve (IX) & 373 & 3316\\\hline
Miller, Harold (I) & 561 & 6587\\\hline
Jeremy, Ron & 637 & 3177\\\hline
Phelps, Lee (I) & 647 & 5563\\\hline
Lowenthal, Yuri & 318 & 2662\\\hline
Downes, Robin Atkin & 267 & 2953\\\hline
O'Connor, Frank (I) & 623 & 5502\\\hline 
\end{tabular}}
\label{table_1_3}
\end{table}

We can see from the result that it does not have any of the actor/actress listed in the previous section. In general, the more movie they took part in, the high pagerank they may had, because that means they had more changes to cooperate with other actor/actress and it's obvious that they may have higher degree in the network. After googling it, we found that most people int the top 10 are actually voice actors. That's why they can take part in hundreds of movies and that also explains why those famous previous actor/actress are not included in the top 10. Even though those movie super stars acted so many movies, it's very common that they still act less than those voice actors.

What's more, the same information of the actor/actress listed in the previous section is shown in Table \ref{table_1_4}.

\begin{table}[h]
\center
\caption{The same information table for previous actor/actress}
\scalebox{0.9}{
\begin{tabular}{r|c|c}
\hline
\textbf{Name} & \textbf{the Number of Movies} & \textbf{In-degree}\\\hline
Tom Cruise & 63 & 1651\\\hline
Emma Watson (II) & 25 & 453\\\hline
George Clooney & 67 & 1573\\\hline
Tom Hanks & 80 & 2064\\\hline
Dwayne Johnson (I) & 78 & 1357\\\hline
Johnny Depp & 98 & 2144\\\hline
Will Smith (I) & 49 & 1319\\\hline
Meryl Streep & 97 & 1594\\\hline
Leonardo DiCaprio & 49 & 1301\\\hline
Brad Pitt & 71 & 1739\\\hline

\end{tabular}}
\label{table_1_4}
\end{table}

\section{Movie Network}

\subsection{Undirected movie network creation}
We create a weighted undirected movie network. And the degree distribution of the movie network is shown in Figure \ref{F2_1}. We can see from the result that most movies have a degree between 500 and 1000, also there're only a few movies that have very large or very small degrees. The result is not super surprising since it is very common that lots of movies share same popular movie starts for the box office.

\begin{figure}[h]
\centering
\scalebox{0.7}{\includegraphics{Figures/F2_1.png}}
\caption{Degree distribution of the movie network}
\label{F2_1}
\end{figure}

\subsection{Communities in the movie network}
By detecting communities with Fast Greedy algorithm for our movie network, we got 28 communities. And for Quesition 7, we just picked the first 10 communities to plot the distribution of the genres of the movies in each community.

NOTICE: Some of the movies' genre information is missing in the given dataset, so we marked them as "NAN"; however, only Question 7, we considered them in our plots.

The 10 plots are shown in Figure \ref{fig:Q7_1} to Figure \ref{fig:Q7_10}.

Based on simple frequency counts, the most dominant genre of each community we got is shown in Table \ref{table_2_1}. As we can see, the genre "Drama" is the dominant genre of 11 communities among 28 communities. Thus, genre "Drama" tends to be the most genre among all communities. 

Why???

Based on the measurement of modified score, the dominant genre of each community changes a lot, and the result is shown in Table \ref{table_2_2}. It illustrates that most of the dominant genres we got according to the modified scores are different from the genres we got by simply couting the frequency of genre within the community. Interestingly, there do exist some communities hold the same dominant genre and all of them have comparably fewer movies than other communities. To be sepecific, the number of movies in these communities is in the range of (10,20). In addition, the frequency of the dominant genre in these communities is far more higer than other genres. For instance, we also plotted community with ID=24 and ID=25, shown in Figure \ref{fig:Q8_1} and \ref{fig:Q8_2}. In fact, this is reasonable because in these kinds of communities, $p(i)$ of the dominant genre(the genre has the highest frequency) is much bigger than other genres within the community, which can play a dominant role of the score function. Moreover, some of the genres in these kinds of communities have only one occurency, which makes $c(i)$ equals to 1 and then $ln(c(i))$ equals to 0, so that the score will be 0. On the contrary, for those communities whose dominant genre differ from different measurement, they generally include large number of movies, and may have genres holding the similar frequency wihthin the communiy. For instance, we could observe the genre distribution of community with ID=6 (Figure \ref{fig:Q7_6}), the dominant genre changes from "Drama"(the most frequent genre) to "Comedy"(the third frequent genre). This is easy to understand since the score function consider the fraction of genre within community and also in whole dataset, which is equvalent to multiply some coefficients to the exact frequency of the genre, this somehow makes the score bigger or smaller comparing to the exact frequency. Therefore, the dominant genre of these kinds of community changes. 

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_1.png}}
\caption{Genre Distribution of Community $1$}
\label{fig:Q7_1}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_2.png}}
\caption{Genre Distribution of Community $2$}
\label{fig:Q7_2}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_3.png}}
\caption{Genre Distribution of Community $3$}
\label{fig:Q7_3}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_4.png}}
\caption{Genre Distribution of Community $4$}
\label{fig:Q7_4}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_5.png}}
\caption{Genre Distribution of Community $5$}
\label{fig:Q7_5}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_6.png}}
\caption{Genre Distribution of Community $6$}
\label{fig:Q7_6}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_7.png}}
\caption{Genre Distribution of Community $7$}
\label{fig:Q7_7}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_8.png}}
\caption{Genre Distribution of Community $8$}
\label{fig:Q7_8}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_9.png}}
\caption{Genre Distribution of Community $9$}
\label{fig:Q7_9}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_10.png}}
\caption{Genre Distribution of Community $10$}
\label{fig:Q7_10}
\end{figure}


\begin{table}[h]
\center
\caption{The dominant genre of each community(according to frequency count)}
\scalebox{0.9}{
\begin{tabular}{c|c}
\hline
\textbf{Community ID} & \textbf{the dominant genre}\\\hline
1 & Thriller\\\hline
2 & Short\\\hline
3 & Drama \\\hline
4 & Drama \\\hline
5 & Drama \\\hline
6 & Drama \\\hline
7 & Drama \\\hline
8 & Drama \\\hline
9 & Drama \\\hline
10 & Drama \\\hline
11 & Drama \\\hline
12 & Drama \\\hline
13 & Drama \\\hline
14 & Drama \\\hline
15 & Drama \\\hline
16 & Drama \\\hline
17 & Drama \\\hline
18 & Drama \\\hline
19 & Drama \\\hline
20 & Drama \\\hline
21 & Drama \\\hline
22 & Drama \\\hline
23 & Drama \\\hline
24 & Adult\\\hline
25 & Thriller\\\hline
26 & Short\\\hline
27 & Short\\\hline
28 & Short\\\hline
\end{tabular}}
\label{table_2_1}
\end{table}


\begin{table}[h]
\center
\caption{The dominant genre of each community(according to modified score)}
\scalebox{0.9}{
\begin{tabular}{c|c}
\hline
\textbf{Community ID} & \textbf{the dominant genre}\\\hline
1 & Adult \\\hline
2 & Film-Noir \\\hline
3 & War \\\hline
4 & Crime \\\hline
5 & Family \\\hline
6 & Comedy \\\hline
7 & Family \\\hline
8 & Musical \\\hline
9 & Musical \\\hline
10 & Adventure \\\hline
11 & Family \\\hline
12 & Romance \\\hline
13 & War \\\hline
14 & Adventure \\\hline
15 & Comedy \\\hline
16 & Musical \\\hline
17 & Action \\\hline
18 & Drama \\\hline
19 & Fantasy \\\hline
20 & Comedy \\\hline
21 & Action \\\hline
22 & Romance \\\hline
23 & Short \\\hline
24 & Adult \\\hline
25 & Thriller \\\hline
26 & Short \\\hline
27 & Short \\\hline
28 & Short \\\hline
\end{tabular}}
\label{table_2_2}
\end{table}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_24.png}}
\caption{Genre Distribution of Community $24$}
\label{fig:Q8_1}
\end{figure}

\begin{figure}[h]
\centering
\scalebox{1}{\includegraphics{Figures/community_25.png}}
\caption{Genre Distribution of Community $25$}
\label{fig:Q8_2}
\end{figure}

\subsection{Neighborhood analysis of movies}

\subsection{Predicting ratings of movies}


\end{document}







